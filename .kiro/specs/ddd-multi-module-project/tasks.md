# 实施计划

## 任务列表

- [x] 1. 创建父 POM 并配置依赖管理
  - 创建项目根 pom.xml，配置为多模块父 POM
  - 配置 Java 21 编译环境和 Maven Compiler Plugin
  - 配置 dependencyManagement 统一管理 Spring Boot、Spring Cloud 及第三方库版本
  - **验收标准**：
    - 执行 `mvn clean compile` 命令成功，输出 "BUILD SUCCESS"
    - 检查 pom.xml 文件，确认 groupId 为 "com.demo"，artifactId 为 "order-core-parent"
    - 确认 packaging 为 "pom"
    - 确认 properties 中定义了 java.version=21
    - 确认 dependencyManagement 中导入了 spring-boot-dependencies 和 spring-cloud-dependencies BOM
  - _需求: 1.1, 1.2, 1.3, 1.4, 12.1, 12.2, 12.3_

- [x] 2. 创建 common 模块并实现异常体系和统一响应类
  - 创建 common 模块，配置为 jar 类型
  - 实现三层异常体系：BaseException（抽象）、BusinessException、SystemException
  - 实现统一响应类 Result，支持成功和失败场景
  - 创建标准包结构：exception、dto、constant、util
  - **验收标准**：
    - 执行 `mvn clean compile` 命令成功编译 common 模块
    - 检查父 POM 的 modules 节，确认声明了 common 模块
    - 检查 common/pom.xml，确认 packaging 为 "jar"，name 为 "Common"
    - 确认添加了 Lombok 依赖且未指定版本
    - 确认存在 BaseException.java（抽象类），包含 errorCode 和 message 字段
    - 确认存在 BusinessException.java 和 SystemException.java，继承自 BaseException
    - 确认存在 Result.java，包含 code、message、data、timestamp 字段和 success()、error() 静态方法
    - 确认存在包目录：com/demo/common/exception、dto、constant、util
  - _需求: 2.1, 2.2, 2.3, 2.4, 11.1, 11.2, 11.3, 1.6, 12.4_

- [x] 3. 创建 application 层模块结构
  - 创建 application 父模块（pom 类型）
  - 创建 application-api 子模块，定义应用服务接口
  - 创建 application-impl 子模块，实现应用服务
  - 配置正确的模块依赖关系
  - **验收标准**：
    - 执行 `mvn clean compile` 命令成功编译 application 模块及其子模块
    - 检查父 POM 的 modules 节，确认声明了 application 模块
    - 检查 application/pom.xml，确认 packaging 为 "pom"，name 为 "Application"
    - 检查 application/pom.xml 的 modules 节，确认声明了 application-api 和 application-impl
    - 检查 application-api/pom.xml，确认 packaging 为 "jar"，name 为 "Application API"
    - 检查 application-api/pom.xml，确认仅依赖 common 模块
    - 检查 application-impl/pom.xml，确认依赖 application-api、domain-api、common 模块
    - 确认存在包目录：com/demo/application/api 和 com/demo/application/impl
  - _需求: 4.1, 4.2, 4.3, 4.4, 4.5, 1.6_

- [x] 4. 创建 domain 层模块结构
  - 创建 domain 父模块（pom 类型）
  - 创建 domain-api 子模块，定义领域模型和仓储接口
  - 创建 domain-impl 子模块，实现领域服务逻辑
  - 配置正确的模块依赖关系
  - **验收标准**：
    - 执行 `mvn clean compile` 命令成功编译 domain 模块及其子模块
    - 检查父 POM 的 modules 节，确认声明了 domain 模块
    - 检查 domain/pom.xml，确认 packaging 为 "pom"，name 为 "Domain"
    - 检查 domain/pom.xml 的 modules 节，确认声明了 domain-api 和 domain-impl
    - 检查 domain-api/pom.xml，确认仅依赖 common 模块
    - 检查 domain-impl/pom.xml，确认依赖 domain-api、repository-api、cache-api、mq-api、common 模块
    - 确认存在包目录：com/demo/domain/api 和 com/demo/domain/impl
  - _需求: 5.1, 5.2, 5.3, 5.4, 5.5, 1.6_

- [x] 5. 创建 infrastructure 层 repository 模块
  - 创建 infrastructure 父模块（pom 类型）
  - 创建 repository 父模块（pom 类型）
  - 创建 repository-api 子模块，定义仓储接口
  - 创建 mysql-impl 子模块，实现 MyBatis-Plus 数据访问
  - 配置正确的模块依赖关系
  - **验收标准**：
    - 执行 `mvn clean compile` 命令成功编译 infrastructure/repository 及其子模块
    - 检查父 POM 的 modules 节，确认声明了 infrastructure 模块
    - 检查 infrastructure/pom.xml，确认 packaging 为 "pom"，name 为 "Infrastructure"
    - 检查 infrastructure/pom.xml 的 modules 节，确认声明了 repository、cache、mq
    - 检查 repository/pom.xml，确认 packaging 为 "pom"，name 为 "Repository"
    - 检查 repository/pom.xml 的 modules 节，确认声明了 repository-api 和 mysql-impl
    - 检查 repository-api/pom.xml，确认仅依赖 common 模块
    - 检查 mysql-impl/pom.xml，确认依赖 repository-api、common 模块和 MyBatis-Plus（未指定版本）
    - 确认存在包目录：com/demo/infrastructure/repository/api 和 mysql
  - _需求: 6.1, 6.2, 6.5, 6.8, 6.9, 12.5, 1.6_

- [x] 6. 创建 infrastructure 层 cache 模块
  - 创建 cache 父模块（pom 类型）
  - 创建 cache-api 子模块，定义缓存接口
  - 创建 redis-impl 子模块，实现 Redis 缓存
  - 配置正确的模块依赖关系
  - **验收标准**：
    - 执行 `mvn clean compile` 命令成功编译 infrastructure/cache 及其子模块
    - 检查 infrastructure/pom.xml 的 modules 节，确认声明了 cache
    - 检查 cache/pom.xml，确认 packaging 为 "pom"，name 为 "Cache"
    - 检查 cache/pom.xml 的 modules 节，确认声明了 cache-api 和 redis-impl
    - 检查 cache-api/pom.xml，确认仅依赖 common 模块
    - 检查 redis-impl/pom.xml，确认依赖 cache-api、common 模块和 Spring Data Redis（未指定版本）
    - 确认存在包目录：com/demo/infrastructure/cache/api 和 redis
  - _需求: 6.3, 6.6, 6.8, 6.9, 1.6_

- [x] 7. 创建 infrastructure 层 mq 模块
  - 创建 mq 父模块（pom 类型）
  - 创建 mq-api 子模块，定义消息队列接口
  - 创建 sqs-impl 子模块，实现 AWS SQS 消息队列
  - 配置正确的模块依赖关系
  - **验收标准**：
    - 执行 `mvn clean compile` 命令成功编译 infrastructure/mq 及其子模块
    - 检查 infrastructure/pom.xml 的 modules 节，确认声明了 mq
    - 检查 mq/pom.xml，确认 packaging 为 "pom"，name 为 "Message Queue"
    - 检查 mq/pom.xml 的 modules 节，确认声明了 mq-api 和 sqs-impl
    - 检查 mq-api/pom.xml，确认仅依赖 common 模块
    - 检查 sqs-impl/pom.xml，确认依赖 mq-api、common 模块和 AWS SDK for SQS（未指定版本）
    - 确认存在包目录：com/demo/infrastructure/mq/api 和 sqs
  - _需求: 6.4, 6.7, 6.8, 6.9, 1.6_

- [x] 8. 创建 interface 层 http 模块并实现全局异常处理器
  - 创建 interface 父模块（pom 类型）
  - 创建 http 子模块，处理 HTTP 请求
  - 实现 HTTP 全局异常处理器，统一处理 BusinessException、SystemException 和未知异常
  - 配置正确的模块依赖关系
  - **验收标准**：
    - 执行 `mvn clean compile` 命令成功编译 interface/http 模块
    - 检查父 POM 的 modules 节，确认声明了 interface 模块
    - 检查 interface/pom.xml，确认 packaging 为 "pom"，name 为 "Interface"
    - 检查 interface/pom.xml 的 modules 节，确认声明了 http 和 consumer
    - 检查 http/pom.xml，确认 packaging 为 "jar"，name 为 "HTTP Interface"
    - 检查 http/pom.xml，确认依赖 Spring Web、Spring Validation（未指定版本）、application-api、common
    - 确认存在 GlobalExceptionHandler.java，使用 @RestControllerAdvice 注解
    - 确认 GlobalExceptionHandler 包含 handleBusinessException、handleSystemException、handleException 方法
    - 确认存在包目录：com/demo/http
  - _需求: 3.1, 3.2, 3.4, 3.5, 3.7, 11.4, 11.6, 11.7, 11.8, 11.9, 1.6_

- [x] 9. 创建 interface 层 consumer 模块并实现全局异常处理器
  - 创建 consumer 子模块，处理消息队列消费
  - 实现 Consumer 全局异常处理器，支持重试策略
  - 配置正确的模块依赖关系
  - **验收标准**：
    - 执行 `mvn clean compile` 命令成功编译 interface/consumer 模块
    - 检查 interface/pom.xml 的 modules 节，确认声明了 consumer
    - 检查 consumer/pom.xml，确认 packaging 为 "jar"，name 为 "Consumer Interface"
    - 检查 consumer/pom.xml，确认依赖 application-api、common 模块
    - 确认存在 GlobalExceptionHandler.java，使用 @ControllerAdvice 注解
    - 确认 GlobalExceptionHandler 包含异常处理方法，记录 ERROR 级别日志
    - 确认存在包目录：com/demo/consumer
  - _需求: 3.3, 3.6, 3.7, 11.5, 11.6, 11.7, 11.8, 11.9, 1.6_

- [x] 10. 创建 bootstrap 启动模块
  - 创建 bootstrap 模块，作为应用启动入口
  - 创建主启动类 OrderCoreApplication
  - 配置模块依赖，聚合所有实现模块
  - **验收标准**：
    - 执行 `mvn clean compile` 命令成功编译 bootstrap 模块
    - 检查父 POM 的 modules 节，确认声明了 bootstrap 模块
    - 检查 bootstrap/pom.xml，确认 packaging 为 "jar"，name 为 "Bootstrap"
    - 检查 bootstrap/pom.xml，确认依赖 Spring Boot Starter Web、Spring Boot Actuator
    - 检查 bootstrap/pom.xml，确认依赖 http、consumer、application-impl、domain-impl
    - 检查 bootstrap/pom.xml，确认依赖 mysql-impl、redis-impl、sqs-impl、common
    - 确认存在 OrderCoreApplication.java，包含 @SpringBootApplication 注解和 main 方法
    - 确认存在包目录：com/demo/bootstrap
  - _需求: 7.1, 7.2, 7.3, 7.4, 1.6_

- [x] 11. 配置 application.yml 多环境配置
  - 创建 application.yml 主配置文件
  - 创建 application-local.yml、application-dev.yml、application-test.yml、application-staging.yml、application-prod.yml 环境配置
  - 配置 Spring Profile 激活机制
  - **验收标准**：
    - 检查 bootstrap/src/main/resources 目录，确认存在 application.yml
    - 检查 bootstrap/src/main/resources 目录，确认存在 5 个环境配置文件
    - 检查 application.yml，确认配置了 spring.profiles.active 占位符
    - 检查 application.yml，确认配置了应用名称 spring.application.name
    - 检查各环境配置文件，确认包含环境特定的配置（如数据库连接、Redis 连接等）
    - 执行 `mvn clean compile` 命令成功
  - _需求: 8.1, 8.2, 8.3, 8.4, 8.5, 8.6, 8.7, 8.8_

- [x] 12. 配置 Logback 日志系统
  - 创建 logback-spring.xml 配置文件
  - 配置多环境日志输出策略（控制台、文件、JSON 格式）
  - 配置日志滚动策略和保留策略
  - 配置异步 Appender 提升性能
  - **验收标准**：
    - 检查 bootstrap/src/main/resources 目录，确认存在 logback-spring.xml
    - 检查 logback-spring.xml，确认包含 local、dev/test/staging、prod 三种 springProfile 配置
    - 检查 local profile，确认使用 ConsoleAppender 和彩色输出
    - 检查 dev/test/staging profile，确认使用 RollingFileAppender 和 JSON 格式
    - 检查 prod profile，确认使用 AsyncAppender 和 JSON 格式
    - 检查滚动策略，确认按日期和大小滚动，非生产保留 30 天，生产保留 90 天
    - 检查 JSON 格式，确认包含 timestamp、level、thread、logger、traceId、spanId、message、exception 字段
    - 执行 `mvn clean compile` 命令成功
  - _需求: 9.1, 9.2, 9.3, 9.4, 9.5, 9.6, 9.7, 9.8, 9.9, 9.10, 9.11_

- [x] 13. 集成 Micrometer Tracing 链路追踪
  - 在父 POM 中配置 Micrometer Tracing BOM
  - 在 bootstrap 模块中添加 Micrometer Tracing 依赖
  - 配置链路追踪采样率和传播策略
  - **验收标准**：
    - 检查父 POM 的 dependencyManagement 节，确认导入了 micrometer-tracing-bom
    - 检查父 POM 的 properties 节，确认定义了 micrometer-tracing.version
    - 检查 bootstrap/pom.xml，确认添加了 micrometer-tracing-bridge-brave 依赖（未指定版本）
    - 检查 application.yml，确认配置了 management.tracing.sampling.probability
    - 检查 application.yml，确认配置了 management.tracing.propagation.type
    - 执行 `mvn clean compile` 命令成功
  - _需求: 10.1, 10.2, 10.3, 10.4, 10.5_

- [x] 14. 配置 Spring Boot Actuator 监控端点
  - 在 bootstrap 模块中添加 Spring Boot Actuator 依赖
  - 配置监控端点暴露策略
  - 配置 Prometheus 指标导出
  - **验收标准**：
    - 检查 bootstrap/pom.xml，确认添加了 spring-boot-starter-actuator 依赖（未指定版本）
    - 检查 bootstrap/pom.xml，确认添加了 micrometer-registry-prometheus 依赖（未指定版本）
    - 检查 application.yml，确认配置了 management.endpoints.web.exposure.include
    - 检查 application.yml，确认配置了 management.endpoint.health.show-details
    - 检查 application.yml，确认配置了 management.metrics.export.prometheus.enabled
    - 执行 `mvn clean compile` 命令成功
  - _需求: 13.1, 13.2, 13.3, 13.4, 13.5, 13.6_

- [x] 15. 验证项目整体构建和模块依赖
  - 执行完整的 Maven 构建
  - 验证所有模块的依赖关系正确
  - 验证模块声明顺序符合依赖关系
  - **验收标准**：
    - 执行 `mvn clean install` 命令成功，所有模块构建成功
    - 检查构建日志，确认模块构建顺序符合依赖关系（common → infrastructure → domain → application → interface → bootstrap）
    - 检查 target 目录，确认所有模块都生成了 jar 文件
    - 执行 `mvn dependency:tree` 命令，确认没有依赖冲突
    - 确认高层模块不依赖低层模块的实现类，只依赖接口
  - _需求: 1.1, 1.2, 1.3, 1.4, 1.5, 1.6, 12.1, 12.2, 12.3, 12.4, 12.5_

- [x] 16. 配置 Spring Boot Maven Plugin 并验证打包
  - 在 bootstrap 模块中配置 Spring Boot Maven Plugin
  - 配置主启动类和可执行 JAR 打包
  - 验证打包生成的 JAR 文件
  - **验收标准**：
    - 检查 bootstrap/pom.xml 的 build 节，确认配置了 spring-boot-maven-plugin
    - 检查插件配置，确认指定了主启动类 com.demo.ordercore.bootstrap.OrderCoreApplication
    - 执行 `mvn clean package` 命令成功，输出 "BUILD SUCCESS"
    - 检查 bootstrap/target 目录，确认生成了名称匹配 order-core-bootstrap-*.jar 的文件
    - 检查 JAR 文件大小，确认为可执行 JAR（包含所有依赖，大于 30MB）
  - _需求: 7.5, 7.6, 7.7, 13.1, 13.2, 13.3_

- [x] 17. 创建 bootstrap.yml 引导配置文件
  - 在 bootstrap 模块中创建 bootstrap.yml 文件
  - 配置引导阶段的配置项
  - **验收标准**：
    - 检查 bootstrap/src/main/resources 目录，确认存在 bootstrap.yml 文件
    - 检查 bootstrap.yml，确认文件格式正确（YAML 格式）
    - 执行 `mvn clean compile` 命令成功
  - _需求: 10.4, 15.1_

- [x] 18. 完善 application.yml 配置内容
  - 在 application.yml 中添加应用名称、端口、默认环境等配置
  - 配置 Actuator 端点暴露策略
  - 配置链路追踪采样率和传播策略
  - **验收标准**：
    - 检查 application.yml，确认 spring.application.name 为 "order-core"
    - 检查 application.yml，确认 server.port 为 8080
    - 检查 application.yml，确认 spring.profiles.active 默认为 "dev"
    - 检查 application.yml，确认 management.endpoints.web.exposure.include 包含 "health,prometheus"
    - 检查 application.yml，确认 management.endpoint.health.show-details 为 "always"
    - 检查 application.yml，确认 management.tracing.sampling.probability 为 1.0
    - 检查 application.yml，确认 management.metrics.export.prometheus.enabled 为 true
    - 执行 `mvn clean compile` 命令成功
  - _需求: 10.5, 10.6, 10.7, 13.3, 13.4, 13.5_

- [x] 19. 完善环境特定配置文件内容
  - 在 application-local.yml 中配置本地开发环境的日志级别
  - 在 application-dev.yml 中配置开发环境的日志级别
  - 在 application-prod.yml 中配置生产环境的日志级别
  - **验收标准**：
    - 检查 application-local.yml，确认 logging.level.com.demo 为 DEBUG
    - 检查 application-dev.yml，确认 logging.level.com.demo 为 DEBUG
    - 检查 application-test.yml，确认 logging.level.com.demo 为 DEBUG
    - 检查 application-staging.yml，确认 logging.level.com.demo 为 DEBUG
    - 检查 application-prod.yml，确认 logging.level.root 为 INFO
    - 执行 `mvn clean compile` 命令成功
  - _需求: 8.5, 8.8_

- [x] 20. 验证应用启动和基础功能
  - 启动应用并验证启动成功
  - 验证 Actuator 健康检查端点
  - 验证应用监听正确的端口
  - **验收标准**：
    - 执行 `java -jar bootstrap/target/order-core-bootstrap-*.jar` 命令启动应用
    - 检查启动日志，确认包含 "Started OrderCoreApplication" 和 "Tomcat started on port(s): 8080"
    - 访问 http://localhost:8080/actuator/health，返回 HTTP 200 状态码
    - 检查响应内容，确认包含 {"status":"UP"}
    - 停止应用
  - _需求: 7.8, 13.5_

- [x] 21. 验证 Prometheus 指标暴露
  - 启动应用并访问 Prometheus 端点
  - 验证指标数据格式和内容
  - **验收标准**：
    - 启动应用
    - 访问 http://localhost:8080/actuator/prometheus，返回 HTTP 200 状态码
    - 检查响应 Content-Type，确认为 "text/plain;version=0.0.4;charset=utf-8"
    - 检查响应内容，确认包含 JVM 指标（jvm_memory_used_bytes、jvm_gc_pause_seconds、jvm_threads_live）
    - 检查响应内容，确认包含 HTTP 指标（http_server_requests_seconds）
    - 停止应用
  - _需求: 9.3, 9.4, 9.5, 9.6_

- [x] 22. 验证多环境配置切换
  - 使用不同的 Profile 启动应用
  - 验证环境配置正确加载
  - **验收标准**：
    - 使用 local 环境启动应用，检查启动日志确认加载了 application-local.yml 配置（日志中显示 "The following 1 profile is active: \"local\""）
    - 停止应用
    - 使用 dev 环境启动应用，检查启动日志确认加载了 application-dev.yml 配置（日志中显示 "The following 1 profile is active: \"dev\""）
    - 停止应用
    - 使用 test 环境启动应用，检查启动日志确认加载了 application-test.yml 配置（日志中显示 "The following 1 profile is active: \"test\""）
    - 停止应用
    - 使用 staging 环境启动应用，检查启动日志确认加载了 application-staging.yml 配置（日志中显示 "The following 1 profile is active: \"staging\""）
    - 停止应用
    - 使用 prod 环境启动应用，检查启动日志确认加载了 application-prod.yml 配置（日志中显示 "The following 1 profile is active: \"prod\""）
    - 停止应用
  - _需求: 10.8, 10.9_

- [x] 23. 创建测试端点验证异常处理机制
  - 在 http 模块中创建测试 Controller
  - 创建触发 BusinessException 的测试端点
  - 创建触发 SystemException 的测试端点
  - 创建触发未知异常的测试端点
  - **验收标准**：
    - 检查 http 模块，确认存在 TestController.java
    - 确认 TestController 包含 @RestController 注解
    - 确认存在 /test/business-exception 端点，抛出 BusinessException
    - 确认存在 /test/system-exception 端点，抛出 SystemException
    - 确认存在 /test/unknown-exception 端点，抛出 RuntimeException
    - 执行 `mvn clean compile` 命令成功
  - _需求: 11.6, 11.7, 11.8_

- [x] 24. 验证 HTTP 异常处理器功能
  - 启动应用并测试异常处理端点
  - 验证不同异常返回不同的 HTTP 状态码和响应格式
  - **验收标准**：
    - 启动应用
    - 访问 http://localhost:8080/test/business-exception，返回 HTTP 400 状态码
    - 检查响应 JSON，确认包含 code、message、timestamp 字段，不包含 data 字段
    - 检查响应 JSON，确认 message 不包含 Java 堆栈信息
    - 访问 http://localhost:8080/test/system-exception，返回 HTTP 500 状态码
    - 检查响应 JSON，确认包含 code、message、timestamp 字段
    - 访问 http://localhost:8080/test/unknown-exception，返回 HTTP 500 状态码
    - 检查响应 JSON，确认 message 为通用错误提示，不包含堆栈信息
    - 停止应用
  - _需求: 3.9, 11.6, 11.7, 11.8, 11.9_

- [x] 25. 验证日志输出格式（本地环境）
  - 使用 local profile 启动应用
  - 验证控制台日志输出格式
  - 验证日志级别配置
  - **验收标准**：
    - 执行 `java -jar bootstrap/target/order-core-bootstrap-*.jar --spring.profiles.active=local` 启动应用
    - 检查控制台输出，确认日志为彩色格式
    - 访问 http://localhost:8080/actuator/health
    - 检查控制台输出，确认包含 com.demo 包的 DEBUG 级别日志
    - 停止应用
  - _需求: 8.4, 8.5_

- [x] 26. 验证日志输出格式（开发环境）
  - 使用 dev profile 启动应用
  - 验证文件日志输出和 JSON 格式
  - 验证链路追踪信息
  - **验收标准**：
    - 执行 `java -jar bootstrap/target/order-core-bootstrap-*.jar --spring.profiles.active=dev` 启动应用
    - 检查项目根目录，确认创建了 logs/application.log 文件
    - 访问 http://localhost:8080/actuator/health
    - 检查 application.log 文件，确认日志为 JSON 格式
    - 检查 JSON 日志，确认包含 timestamp、level、thread、logger、message 字段
    - 检查 JSON 日志，确认包含 traceId 和 spanId 字段（链路追踪信息）
    - 停止应用并删除 logs 目录
  - _需求: 8.6, 8.7_

- [x] 27. 验证日志输出格式（生产环境）
  - 使用 prod profile 启动应用
  - 验证日志级别和异步输出
  - 验证错误日志单独记录
  - **验收标准**：
    - 执行 `java -jar bootstrap/target/order-core-bootstrap-*.jar --spring.profiles.active=prod` 启动应用
    - 检查项目根目录，确认创建了 logs/application.log 文件
    - 访问 http://localhost:8080/actuator/health
    - 检查 application.log 文件，确认 com.demo 包使用 INFO 级别（无 DEBUG 日志）
    - 访问 http://localhost:8080/test/system-exception 触发错误
    - 检查项目根目录，确认创建了 logs/error.log 文件
    - 检查 error.log 文件，确认包含错误日志
    - 停止应用并删除 logs 目录
  - _需求: 8.8, 8.9, 8.10_

- [x] 28. 验证日志滚动和保留策略
  - 检查 logback-spring.xml 配置
  - 验证滚动策略配置正确
  - **验收标准**：
    - 检查 logback-spring.xml，确认 RollingFileAppender 配置了 SizeAndTimeBasedRollingPolicy
    - 检查滚动策略，确认 fileNamePattern 包含日期格式 %d{yyyy-MM-dd}
    - 检查滚动策略，确认 maxFileSize 为 100MB
    - 检查 dev/test/staging profile，确认 maxHistory 为 30（保留 30 天）
    - 检查 prod profile，确认 maxHistory 为 90（保留 90 天）
  - _需求: 9.7, 9.8, 9.9_

- [x] 29. 验证依赖版本管理
  - 检查父 POM 的版本定义
  - 验证子模块依赖版本由父 POM 管理
  - **验收标准**：
    - 检查父 POM 的 properties 节，确认定义了 spring-boot.version（3.3.x）
    - 检查父 POM 的 properties 节，确认定义了 spring-cloud.version（2024.0.x）
    - 检查父 POM 的 properties 节，确认定义了 mybatis-plus.version（3.5.x）
    - 检查父 POM 的 properties 节，确认定义了 aws-sdk.version（2.x）
    - 检查父 POM 的 properties 节，确认定义了 logback-json.version（7.x）
    - 执行 `mvn dependency:tree -Dverbose` 命令
    - 检查输出，确认依赖版本来源为父 POM 的 dependencyManagement
  - _需求: 12.3, 12.6_

- [x] 30. 验证模块依赖关系符合 DDD 架构
  - 检查模块间的依赖关系
  - 验证不存在循环依赖
  - 验证依赖方向符合分层架构
  - **验收标准**：
    - 执行 `mvn dependency:tree` 命令
    - 检查输出，确认 common 模块不依赖任何其他业务模块
    - 检查输出，确认所有 *-api 模块仅依赖 common 模块
    - 检查输出，确认 interface 层模块仅依赖 application-api 和 common
    - 检查输出，确认 application-impl 仅依赖 application-api、domain-api、common
    - 检查输出，确认 domain-impl 仅依赖 domain-api、repository-api、cache-api、mq-api、common
    - 检查输出，确认基础设施层 *-impl 模块仅依赖对应的 *-api 和 common
    - 确认不存在循环依赖
  - _需求: 14.1, 14.2, 14.3, 14.4, 14.5, 14.6, 14.7, 14.8_

- [x] 31. 验证配置文件格式规范
  - 检查所有配置文件格式
  - 验证 POM 文件缩进一致性
  - **验收标准**：
    - 检查所有 Spring 配置文件，确认使用 .yml 扩展名（不是 .yaml）
    - 检查所有 POM 文件，确认使用一致的缩进（2 个空格或 4 个空格）
    - 执行 `mvn validate` 命令成功，无格式错误
  - _需求: 15.1, 15.2, 15.3_

- [x] 32. 最终集成验证
  - 执行完整的构建、打包、启动流程
  - 验证所有功能正常工作
  - **验收标准**：
    - 执行 `mvn clean install` 命令成功
    - 执行 `java -jar bootstrap/target/order-core-bootstrap-*.jar` 启动应用成功
    - 访问 http://localhost:8080/actuator/health 返回 UP 状态
    - 访问 http://localhost:8080/actuator/prometheus 返回指标数据
    - 访问 http://localhost:8080/test/business-exception 返回 400 状态码
    - 检查 logs/application.log 文件存在且包含 JSON 格式日志
    - 检查日志包含 traceId 和 spanId 字段
    - 停止应用
  - _需求: 所有需求的综合验证_
