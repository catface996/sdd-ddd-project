---
inclusion: always
---

# 任务拆分阶段最佳实践

## 核心原则

任务拆分是将设计转化为可执行步骤的关键环节，必须确保任务的可执行性和可验证性。

## 任务列表验证

任务列表创建后，进行全面检查：

### 验证要点

#### 1. 与需求和设计的一致性
- 任务列表是否与需求和设计一致？
- 是否有超出设计范围的任务？
- 是否完整覆盖了设计中的所有内容？

#### 2. 任务的可执行性
- 每个任务的目标是否明确？
- 任务的粒度是否合适（不宜过大或过小）？
- 任务之间的依赖关系是否清晰？

#### 3. 任务的可验证性
- 每个任务的验证标准是否明确？
- 任务是否可以被有效验证？
- 验证方法是否可操作？

### 示例提示词

> "请检查任务列表是否与需求和设计一致，是否有超出设计范围的任务。另外，请明确每个任务的验证标准，并对任务进行验证。"

## 任务拆分原则

### 1. 单一职责
每个任务应该只关注一个明确的目标，避免任务过于复杂。

### 2. 可独立验证
每个任务完成后应该能够独立验证其正确性。

### 3. 合理的依赖关系
任务之间的依赖应该清晰明确，避免循环依赖。

### 4. 增量交付
任务应该支持增量开发，每完成一个任务都应该让项目向前推进一步。

## 任务描述标准

一个合格的任务描述应包含：

- 任务目标：要实现什么功能或完成什么工作
- 输入条件：任务开始前需要满足的前置条件
- 输出产物：任务完成后应该产生什么
- 验证标准：如何验证任务是否正确完成

## 验收原则

任务验收应遵循以下优先级顺序：

### 1. 运行时验证（最优先）
能通过实际运行应用来验证的功能，必须通过运行应用进行验证。

**适用场景**：
- 多环境配置验证
- Prometheus 指标端点验证
- 日志输出格式验证
- 异常处理验证
- API 接口功能验证
- 数据库连接验证

**验证方法**：
- 启动应用（`mvn spring-boot:run` 或运行 JAR）
- 访问相关端点或触发相关功能
- 检查实际运行结果是否符合预期

### 2. 编译验证（次优先）
无法通过运行验证的结构性要求，通过编译项目进行验证。

**适用场景**：
- 模块结构验证
- 依赖关系验证
- POM 配置验证
- 代码语法正确性验证

**验证方法**：
- 执行 `mvn clean compile` 确保编译成功
- 执行 `mvn clean package` 确保打包成功
- 检查构建日志中的模块顺序和依赖关系

### 3. 静态检查（最后）
仅在无法通过上述两种方式验证时，才使用静态文件检查。

**适用场景**：
- 文件存在性检查
- 配置文件内容检查
- 目录结构检查

**验证方法**：
- 检查文件是否存在
- 检查文件内容是否符合要求

## 关键收益

- ✅ 确保任务可执行性
- ✅ 提高开发效率
- ✅ 便于进度跟踪
- ✅ 降低实施风险
- ✅ 支持并行开发
