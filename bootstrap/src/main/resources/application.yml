spring:
  application:
    name: order-core
  profiles:
    active: ${SPRING_PROFILES_ACTIVE:dev}
  
  # 禁用数据库初始化
  sql:
    init:
      mode: never
  
  # 主配置
  main:
    lazy-initialization: false
    allow-bean-definition-overriding: true
  
server:
  port: 8080

# MyBatis-Plus 配置
mybatis-plus:
  # Mapper XML 文件位置
  mapper-locations: classpath*:/mapper/**/*.xml
  
  # 实体类别名包路径
  type-aliases-package: com.demo.infrastructure.repository.mysql.po
  
  # 全局配置
  global-config:
    # 数据库相关配置
    db-config:
      # 主键类型（雪花算法）
      id-type: ASSIGN_ID
      
      # 逻辑删除配置
      logic-delete-field: deleted
      logic-delete-value: 1
      logic-not-delete-value: 0
    
    # 关闭 Banner
    banner: false
  
  # MyBatis 原生配置
  configuration:
    # 驼峰命名转换
    map-underscore-to-camel-case: true
    
    # 缓存配置
    cache-enabled: false
    
    # 日志实现
    log-impl: org.apache.ibatis.logging.slf4j.Slf4jImpl

management:
  endpoints:
    web:
      exposure:
        include: health,prometheus
  endpoint:
    health:
      show-details: always
  tracing:
    sampling:
      probability: 1.0
    propagation:
      type: B3
  metrics:
    export:
      prometheus:
        enabled: true
