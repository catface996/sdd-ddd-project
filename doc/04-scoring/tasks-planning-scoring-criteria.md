# 任务拆分阶段评分标准

## 评分总则

- **评分制度**：扣分制（满分100分）
- **评分时机**：任务列表完成验证后
- **评分原则**：从完美状态开始，发现问题扣分

---

## 评分维度（100分）

### 1. 任务完整性（25分）

任务完整性评估任务列表是否完全覆盖了设计文档的所有内容，任务边界是否清晰。不完整的任务列表会导致功能遗漏。

#### 1.1 设计覆盖度（15分）

**评分项说明**：
- **遗漏设计内容**：-5分/项
- **超出设计范围**：-3分/项

**详细说明**：

**1. 遗漏设计内容（-5分/项）**

**什么是遗漏设计内容**：
- 设计文档中明确要求的内容，在任务列表中没有对应的任务
- 设计的某个模块或功能完全没有被任务覆盖
- 设计的某个关键步骤没有对应的任务

**常见遗漏类型**：

**类型 1：遗漏整个模块**
- **设计**：系统包含用户模块、订单模块、支付模块
- **任务列表**：只有用户模块和订单模块的任务
- **问题**：完全遗漏了支付模块
- **扣分**：-5分
- **影响**：支付功能无法实现

**类型 2：遗漏配置任务**
- **设计**：系统需要配置多环境支持（dev、test、prod）
- **任务列表**：只有功能开发任务，没有配置任务
- **问题**：遗漏了环境配置
- **扣分**：-5分
- **影响**：系统无法在不同环境部署

**类型 3：遗漏集成任务**
- **设计**：系统需要集成第三方支付 API
- **任务列表**：只有支付模块的开发任务，没有集成任务
- **问题**：遗漏了第三方集成
- **扣分**：-5分
- **影响**：支付功能无法使用

**类型 4：遗漏测试任务**
- **设计**：系统需要单元测试和集成测试
- **任务列表**：只有功能开发任务，没有测试任务
- **问题**：遗漏了测试
- **扣分**：-5分
- **影响**：代码质量无法保证

**类型 5：遗漏文档任务**
- **设计**：需要编写 API 文档和部署文档
- **任务列表**：只有开发任务，没有文档任务
- **问题**：遗漏了文档编写
- **扣分**：-5分
- **影响**：系统难以维护和使用

**如何识别遗漏**：

1. **逐项对照设计文档**：
   - 将设计文档的每个模块与任务列表对照
   - 确认每个模块都有对应的任务
   - 使用检查清单逐项核对

2. **功能完整性检查**：
   - 列出设计中的所有功能点
   - 确认每个功能点都有实现任务
   - 检查是否遗漏配置、集成、测试等辅助任务

3. **流程完整性检查**：
   - 检查开发流程是否完整（设计→开发→测试→部署）
   - 确认每个阶段都有对应的任务
   - 检查是否遗漏准备工作和收尾工作

4. **交叉验证**：
   - 让其他人审查任务列表
   - 检查是否有遗漏的内容
   - 确认任务列表的完整性

**评分示例**：
- **遗漏核心模块**：-5分/模块
- **遗漏重要功能**：-5分/功能
- **遗漏配置或集成**：-5分/项

---

**2. 超出设计范围（-3分/项）**

**什么是超出设计范围**：
- 任务列表中包含了设计文档未提及的内容
- 添加了设计未要求的功能或模块
- 任务的实现方式与设计不一致

**为什么要扣分**：
- 超出设计范围可能导致过度开发
- 增加不必要的开发成本和时间
- 可能偏离项目目标
- 应该先补充设计，再添加任务

**常见超出范围的情况**：

**情况 1：添加未设计的功能**
- **设计**：用户可以上传文件
- **任务**：
  - 实现文件上传功能
  - 实现文件版本管理功能 ← 超出设计
  - 实现文件协作编辑功能 ← 超出设计
- **问题**：版本管理和协作编辑不在设计范围内
- **扣分**：-3分/项
- **正确做法**：如果需要这些功能，先补充到设计文档

**情况 2：添加未设计的优化**
- **设计**：实现用户查询接口
- **任务**：
  - 实现用户查询接口
  - 实现查询结果缓存 ← 超出设计
  - 实现分页优化 ← 超出设计
- **问题**：设计未提及缓存和优化
- **扣分**：-3分/项
- **正确做法**：如果需要优化，先在设计中说明

**情况 3：添加未设计的集成**
- **设计**：系统支持邮件通知
- **任务**：
  - 实现邮件通知功能
  - 集成短信通知 ← 超出设计
  - 集成微信通知 ← 超出设计
- **问题**：短信和微信通知不在设计范围内
- **扣分**：-3分/项
- **正确做法**：如果需要其他通知方式，先补充设计

**情况 4：实现方式与设计不一致**
- **设计**：使用 MySQL 存储用户数据
- **任务**：使用 MongoDB 实现用户数据存储 ← 与设计不一致
- **问题**：实现方式与设计不一致
- **扣分**：-3分
- **正确做法**：如果要改变实现方式，先修改设计文档

**如何判断是否超出范围**：

1. **对照设计文档**：
   - 任务是否在设计文档中有明确说明？
   - 任务的实现方式是否与设计一致？

2. **必要性检查**：
   - 这个任务是否是实现设计的必要步骤？
   - 如果去掉这个任务，设计是否仍然可以实现？

3. **与用户确认**：
   - 如果发现需要添加设计未提及的任务
   - 应该先与用户确认，补充设计文档
   - 然后再添加到任务列表

**评分示例**：
- **每个超出设计范围的任务**：-3分
- **实现方式与设计不一致**：-3分

---

**检查要点**：
- [ ] 是否完全覆盖了设计文档中的所有内容？
- [ ] 是否有设计内容未被任务覆盖？
- [ ] 是否有超出设计范围的任务？
- [ ] 任务的实现方式是否与设计一致？
- [ ] 是否包含了配置、集成、测试等辅助任务？

---

#### 1.2 任务边界清晰度（10分）

**评分项说明**：
- **任务职责不清**：-3分/项
- **任务重叠**：-2分/项

**详细说明**：

**1. 任务职责不清（-3分/项）**

**什么是任务职责不清**：
- 任务描述模糊，不清楚要做什么
- 任务包含多个不相关的职责
- 任务的边界不明确

**常见职责不清的情况**：

**情况 1：任务描述过于宽泛**
- ❌ 不清晰：实现用户管理功能
- ✅ 清晰：
  - 创建用户模块，实现用户注册和登录功能
  - 实现用户信息管理功能（查询、更新、删除）
  - 实现用户权限管理功能
- **问题**："用户管理"范围太大，不清楚具体要做什么
- **扣分**：-3分

**情况 2：任务包含多个不相关的职责**
- ❌ 不清晰：实现用户模块和订单模块
- ✅ 清晰：
  - 任务 1：实现用户模块
  - 任务 2：实现订单模块
- **问题**：一个任务包含两个独立的模块
- **扣分**：-3分

**情况 3：任务边界不明确**
- ❌ 不清晰：优化系统性能
- ✅ 清晰：
  - 为用户查询接口添加 Redis 缓存
  - 为项目列表查询添加数据库索引
- **问题**："优化性能"范围不明确
- **扣分**：-3分

**情况 4：任务目标不明确**
- ❌ 不清晰：处理用户数据
- ✅ 清晰：实现用户数据导入功能，支持从 CSV 文件导入用户信息
- **问题**："处理"是什么意思？导入？导出？转换？
- **扣分**：-3分

**如何确保任务职责清晰**：

1. **使用明确的动词**：
   - ✅ 创建、实现、配置、集成、测试
   - ❌ 处理、优化、改进、完善

2. **明确任务范围**：
   - 说明任务包含哪些具体内容
   - 说明任务不包含哪些内容
   - 避免使用模糊的范围词

3. **单一职责原则**：
   - 每个任务只关注一个明确的目标
   - 如果任务包含多个职责，拆分为多个任务

4. **可验证性**：
   - 任务完成后应该能够明确判断是否完成
   - 避免无法验证的任务描述

---

**2. 任务重叠（-2分/项）**

**什么是任务重叠**：
- 多个任务包含相同或相似的工作内容
- 任务之间的职责有交叉
- 不清楚某个工作应该在哪个任务中完成

**常见任务重叠的情况**：

**情况 1：功能重叠**
- **任务 1**：实现用户注册功能，包括用户名密码验证
- **任务 2**：实现用户登录功能，包括用户名密码验证
- **问题**：用户名密码验证在两个任务中都有
- **扣分**：-2分
- **解决方案**：
  - 任务 1：实现用户注册功能
  - 任务 2：实现用户登录功能
  - 任务 3：实现用户名密码验证工具类（被任务 1 和 2 依赖）

**情况 2：配置重叠**
- **任务 1**：配置用户模块的数据库连接
- **任务 2**：配置订单模块的数据库连接
- **问题**：数据库连接配置重复
- **扣分**：-2分
- **解决方案**：
  - 任务 1：配置全局数据库连接
  - 任务 2：实现用户模块
  - 任务 3：实现订单模块

**情况 3：测试重叠**
- **任务 1**：实现用户注册功能，包括单元测试
- **任务 2**：编写用户模块的单元测试
- **问题**：用户注册的单元测试在两个任务中都有
- **扣分**：-2分
- **解决方案**：
  - 任务 1：实现用户注册功能（包括单元测试）
  - 任务 2：实现用户登录功能（包括单元测试）
  - 不需要单独的测试任务

**情况 4：文档重叠**
- **任务 1**：实现用户 API，编写 API 文档
- **任务 2**：编写系统 API 文档
- **问题**：用户 API 文档在两个任务中都有
- **扣分**：-2分
- **解决方案**：
  - 任务 1：实现用户 API（包括 API 文档）
  - 任务 2：实现订单 API（包括 API 文档）
  - 不需要单独的文档任务

**如何避免任务重叠**：

1. **明确任务边界**：
   - 清楚定义每个任务的职责范围
   - 避免任务之间的职责交叉

2. **提取公共任务**：
   - 如果多个任务都需要某个工作
   - 将其提取为独立的任务
   - 其他任务依赖这个公共任务

3. **检查任务列表**：
   - 审查任务列表，查找重复的内容
   - 合并或重新划分重叠的任务

4. **使用依赖关系**：
   - 明确任务之间的依赖关系
   - 避免在多个任务中重复相同的工作

**评分示例**：
- **每个任务重叠**：-2分
- **严重重叠（大部分内容重复）**：-3分

---

**检查要点**：
- [ ] 每个任务的职责是否明确？
- [ ] 任务之间是否有重叠？
- [ ] 任务边界是否清晰？
- [ ] 是否能明确判断某个工作属于哪个任务？
- [ ] 是否有公共的工作被提取为独立任务？

---

### 2. 任务可执行性（30分）

任务可执行性评估任务是否可以被独立执行，任务粒度是否合适，任务描述是否清晰。不可执行的任务会导致开发受阻。

#### 2.1 任务粒度（15分）

**评分项说明**：
- **任务过大（>4小时）**：-5分/项
- **任务过小（<30分钟）**：-3分/项

**详细说明**：

**1. 任务过大（-5分/项）**

**什么是任务过大**：
- 任务需要超过 4 小时才能完成
- 任务包含多个独立的子功能
- 任务难以在一个工作单元内完成

**为什么任务不能过大**：
- 难以估算完成时间
- 难以跟踪进度
- 难以独立验证
- 增加风险（如果任务失败，影响范围大）
- 不利于并行开发

**常见任务过大的情况**：

**情况 1：包含整个模块**
- ❌ 过大：实现用户管理模块
- ✅ 合适：
  - 任务 1：创建用户模块，实现用户注册功能
  - 任务 2：实现用户登录功能
  - 任务 3：实现用户信息管理功能（查询、更新）
  - 任务 4：实现用户权限管理功能
- **问题**：整个模块可能需要 1-2 天完成
- **扣分**：-5分

**情况 2：包含多个独立功能**
- ❌ 过大：实现订单创建、查询、更新、删除功能
- ✅ 合适：
  - 任务 1：实现订单创建功能
  - 任务 2：实现订单查询功能
  - 任务 3：实现订单更新功能
  - 任务 4：实现订单删除功能
- **问题**：四个功能可能需要 8+ 小时
- **扣分**：-5分

**情况 3：包含复杂的业务逻辑**
- ❌ 过大：实现订单支付流程（包括库存扣减、优惠券使用、积分计算、支付、通知）
- ✅ 合适：
  - 任务 1：实现订单支付接口，调用库存服务扣减库存
  - 任务 2：实现优惠券使用逻辑
  - 任务 3：实现积分计算逻辑
  - 任务 4：集成第三方支付 API
  - 任务 5：实现支付成功后的通知功能
- **问题**：整个流程可能需要 1 天以上
- **扣分**：-5分

**如何拆分过大的任务**：

1. **按功能拆分**：
   - 将大功能拆分为多个小功能
   - 每个小功能是一个独立的任务

2. **按层次拆分**：
   - API 层、Service 层、Repository 层分别作为任务
   - 适用于复杂的功能

3. **按步骤拆分**：
   - 将复杂流程拆分为多个步骤
   - 每个步骤是一个独立的任务

4. **按模块拆分**：
   - 将大模块拆分为多个子模块
   - 每个子模块是一个独立的任务

**任务粒度参考**：
- **理想粒度**：1-4 小时
- **可接受粒度**：30分钟 - 6 小时
- **过大**：> 6 小时
- **过小**：< 30 分钟

---

**2. 任务过小（-3分/项）**

**什么是任务过小**：
- 任务只需要几分钟就能完成
- 任务只是一个配置项或几行代码
- 任务无法独立验证

**为什么任务不能过小**：
- 增加任务管理成本
- 任务切换成本高
- 难以独立验证
- 任务列表过于冗长

**常见任务过小的情况**：

**情况 1：只是一个配置项**
- ❌ 过小：
  - 任务 1：在配置文件中添加数据库 URL
  - 任务 2：在配置文件中添加数据库用户名
  - 任务 3：在配置文件中添加数据库密码
- ✅ 合适：
  - 任务 1：配置数据库连接信息
- **问题**：每个任务只需要 1 分钟
- **扣分**：-3分/项

**情况 2：只是创建一个文件**
- ❌ 过小：
  - 任务 1：创建 User 实体类
  - 任务 2：创建 UserMapper 接口
  - 任务 3：创建 UserService 接口
  - 任务 4：创建 UserServiceImpl 类
- ✅ 合适：
  - 任务 1：创建用户模块的基础结构（实体、Mapper、Service）
- **问题**：每个任务只需要几分钟
- **扣分**：-3分/项

**情况 3：只是添加一个方法**
- ❌ 过小：
  - 任务 1：在 UserService 中添加 findById 方法
  - 任务 2：在 UserService 中添加 findByUsername 方法
  - 任务 3：在 UserService 中添加 save 方法
- ✅ 合适：
  - 任务 1：实现用户查询功能（根据 ID 和用户名查询）
  - 任务 2：实现用户保存功能
- **问题**：每个任务只需要几分钟
- **扣分**：-3分/项

**如何合并过小的任务**：

1. **按功能合并**：
   - 将相关的小任务合并为一个功能任务
   - 例如：将多个查询方法合并为"实现查询功能"

2. **按模块合并**：
   - 将同一模块的小任务合并
   - 例如：将创建多个类合并为"创建模块基础结构"

3. **按配置合并**：
   - 将多个配置项合并为一个配置任务
   - 例如：将多个数据库配置合并为"配置数据库连接"

**评分示例**：
- **任务需要 > 6 小时**：-5分
- **任务需要 < 30 分钟**：-3分
- **任务粒度合适（1-4 小时）**：不扣分

---

**检查要点**：
- [ ] 任务是否可以在 1-4 小时内完成？
- [ ] 任务是否过于庞大难以执行？
- [ ] 任务是否过于琐碎？
- [ ] 任务是否可以独立验证？
- [ ] 任务粒度是否一致？

---

#### 2.2 任务描述清晰度（15分）

**评分项说明**：
- **任务目标不明确**：-5分/项
- **任务描述过于详细（编码指令）**：-3分/项
- **任务描述过于抽象**：-2分/项

**详细说明**：

**1. 任务目标不明确（-5分/项）**

**什么是任务目标不明确**：
- 任务描述模糊，不清楚要达成什么结果
- 任务使用了模糊的动词或名词
- 任务没有明确的产出物

**常见目标不明确的情况**：

**情况 1：使用模糊动词**
- ❌ 不明确：处理用户数据
- ✅ 明确：实现用户数据导入功能，支持从 CSV 文件导入用户信息
- **问题**："处理"是什么意思？
- **扣分**：-5分

**情况 2：没有明确产出物**
- ❌ 不明确：优化系统性能
- ✅ 明确：为用户查询接口添加 Redis 缓存，提升查询性能
- **问题**：不清楚要产出什么
- **扣分**：-5分

**情况 3：范围不明确**
- ❌ 不明确：实现用户功能
- ✅ 明确：实现用户注册和登录功能
- **问题**："用户功能"范围太大
- **扣分**：-5分

**情况 4：条件不明确**
- ❌ 不明确：配置系统
- ✅ 明确：配置多环境支持（dev、test、prod），包括数据库和缓存配置
- **问题**：不清楚要配置什么
- **扣分**：-5分

**如何确保任务目标明确**：

1. **使用明确的动词**：
   - ✅ 创建、实现、配置、集成、测试
   - ❌ 处理、优化、改进、完善

2. **明确产出物**：
   - 说明任务完成后会产生什么
   - 例如：代码、配置文件、文档

3. **明确范围**：
   - 说明任务包含哪些具体内容
   - 避免使用宽泛的范围词

4. **使用具体的名词**：
   - ✅ 用户注册功能、Redis 缓存、MySQL 数据库
   - ❌ 功能、缓存、数据库

---

**2. 任务描述过于详细（编码指令）（-3分/项）**

**什么是编码指令**：
- 任务描述详细到每个配置项、每行代码
- 任务描述告诉执行者"怎么做"，而不是"做什么"
- 任务描述像是在写代码

**为什么不能使用编码指令**：
- 任务应该描述目标，而非实现步骤
- 给执行者留有实现空间
- 避免过度细节化
- 任务拆分不是编码，是目标设定

**常见编码指令的情况**：

**情况 1：详细到每个配置项**
- ❌ 编码指令：
  ```
  - 在 application.yml 中添加 spring.datasource.url
  - 在 application.yml 中添加 spring.datasource.username
  - 在 application.yml 中添加 spring.datasource.password
  - 在 application.yml 中添加 spring.datasource.driver-class-name
  ```
- ✅ 目标层：配置数据库连接信息
- **问题**：这是编码指令，不是任务描述
- **扣分**：-3分

**情况 2：详细到每个类和方法**
- ❌ 编码指令：
  ```
  - 创建 User 类，添加 id、username、password 字段
  - 创建 UserMapper 接口，添加 findById 方法
  - 创建 UserService 接口，添加 getById 方法
  - 创建 UserServiceImpl 类，实现 getById 方法
  ```
- ✅ 目标层：实现用户查询功能（根据 ID 查询用户信息）
- **问题**：这是编码指令，不是任务描述
- **扣分**：-3分

**情况 3：详细到代码逻辑**
- ❌ 编码指令：
  ```
  - 在 UserService 中添加 register 方法
  - 检查用户名是否已存在，如果存在抛出异常
  - 使用 BCrypt 加密密码
  - 调用 UserMapper.save 保存用户
  - 返回用户 ID
  ```
- ✅ 目标层：实现用户注册功能，包括用户名唯一性校验和密码加密
- **问题**：这是编码指令，不是任务描述
- **扣分**：-3分

**任务描述的三个层次**：

**❌ 细节层（避免使用）**：
- 详细到每个配置项、每行代码
- 示例：在配置文件中添加数据库 URL，值为 jdbc:mysql://localhost:3306/db

**⚠️ 步骤层（谨慎使用）**：
- 列出主要步骤，但不涉及具体的代码细节
- 示例：创建用户模块，配置数据库连接，实现 CRUD 功能

**✅ 目标层（推荐）**：
- 描述要达成的结果，不涉及具体实现步骤
- 示例：实现用户管理功能，支持用户注册、登录、信息查询

---

**3. 任务描述过于抽象（-2分/项）**

**什么是任务描述过于抽象**：
- 任务描述过于高层，缺乏必要的细节
- 执行者不清楚具体要做什么
- 任务范围不明确

**常见过于抽象的情况**：

**情况 1：只有模块名称**
- ❌ 过于抽象：实现用户模块
- ✅ 合适：实现用户注册和登录功能
- **问题**：不清楚"用户模块"包含哪些功能
- **扣分**：-2分

**情况 2：只有功能类别**
- ❌ 过于抽象：实现数据处理功能
- ✅ 合适：实现用户数据导入功能，支持从 CSV 文件导入
- **问题**：不清楚"数据处理"是什么
- **扣分**：-2分

**情况 3：缺少关键信息**
- ❌ 过于抽象：配置系统
- ✅ 合适：配置多环境支持（dev、test、prod）
- **问题**：不清楚要配置什么
- **扣分**：-2分

**如何平衡抽象度**：

1. **提供必要的上下文**：
   - 说明任务的背景和目标
   - 提供关键的约束和要求

2. **明确范围**：
   - 说明任务包含哪些内容
   - 说明任务不包含哪些内容

3. **使用具体的例子**：
   - 在必要时提供具体的例子
   - 帮助执行者理解任务

**评分示例**：
- **任务目标不明确**：-5分/项
- **任务描述是编码指令**：-3分/项
- **任务描述过于抽象**：-2分/项

---

**检查要点**：
- [ ] 任务目标是否明确？
- [ ] 任务描述是否在"目标层"（做什么），而非"细节层"（怎么做）？
- [ ] 任务描述是否给执行者留有实现空间？
- [ ] 任务描述是否提供了必要的上下文？
- [ ] 任务描述是否避免了编码指令？

---

### 3. 任务可验证性（25分）

#### 3.1 验收标准明确性（15分）
- **缺少验收标准**：-5分/项
- **验收标准不可执行**：-3分/项
- **验收标准不具体**：-2分/项

**检查要点**：
- [ ] 每个任务是否都有验收标准？
- [ ] 验收标准是否具体、可执行？
- [ ] 验收标准是否可测试？

#### 3.2 验证方法合理性（10分）
- **未明确验证方法**：-3分/项
- **验证优先级错误**（应运行时验证却用静态检查）：-5分/项

**检查要点**：
- [ ] 是否明确了验证方法（运行时/构建/静态）？
- [ ] 验证方法是否遵循优先级（运行时 > 构建 > 静态）？
- [ ] 能运行验证的是否使用了运行验证？

---

### 4. 依赖关系（15分）

#### 4.1 依赖清晰度（8分）
- **依赖关系不明确**：-3分/项
- **存在循环依赖**：-5分/项

**检查要点**：
- [ ] 任务的前置条件是否明确？
- [ ] 任务之间的依赖关系是否清晰？
- [ ] 是否存在循环依赖？

#### 4.2 执行顺序合理性（7分）
- **任务顺序不合理**：-3分/项
- **阻碍并行开发**：-2分/项

**检查要点**：
- [ ] 任务执行顺序是否合理？
- [ ] 是否支持并行开发？
- [ ] 是否考虑了依赖关系？

---

### 5. 任务描述层次（5分）

#### 5.1 描述抽象度（5分）
- **使用细节层描述（编码指令）**：-3分/项
- **缺少必要的步骤说明**：-2分/项

**检查要点**：
- [ ] 任务描述是否在合适的抽象层次？
- [ ] 是否避免了过度细节化？
- [ ] 复杂任务是否提供了必要的步骤说明？

---

## 评分标准

| 分数区间 | 评级 | 说明 |
|---------|------|------|
| 90-100 | 优秀 | 可直接开始执行任务 |
| 80-89 | 良好 | 可开始执行，但需记录改进点 |
| 70-79 | 合格 | 需针对性改进扣分项后开始执行 |
| 60-69 | 需改进 | 必须改进后重新评分 |
| <60 | 不合格 | 必须重做任务拆分 |

---

## 评分表模板

```markdown
## 任务拆分阶段评分表

**项目名称**：[项目名称]
**评分日期**：YYYY-MM-DD
**评分人**：[评分人姓名]

| 维度 | 满分 | 扣分项 | 扣分 | 得分 |
|------|------|--------|------|------|
| **1. 任务完整性** | **25** | | | |
| 1.1 设计覆盖度 | 15 | | | |
| 1.2 任务边界清晰度 | 10 | | | |
| **2. 任务可执行性** | **30** | | | |
| 2.1 任务粒度 | 15 | | | |
| 2.2 任务描述清晰度 | 15 | | | |
| **3. 任务可验证性** | **25** | | | |
| 3.1 验收标准明确性 | 15 | | | |
| 3.2 验证方法合理性 | 10 | | | |
| **4. 依赖关系** | **15** | | | |
| 4.1 依赖清晰度 | 8 | | | |
| 4.2 执行顺序合理性 | 7 | | | |
| **5. 任务描述层次** | **5** | | | |
| 5.1 描述抽象度 | 5 | | | |
| **总分** | **100** | | | **XX** |

**评级**：[优秀/良好/合格/需改进/不合格]

### 主要问题
1. [问题描述]
2. [问题描述]
3. ...

### 改进建议
1. [改进建议]
2. [改进建议]
3. ...

### 是否可开始执行任务
- [ ] 是
- [ ] 否

**备注**：[其他说明]
```

---

## 使用指南

### 评分流程

1. **准备阶段**
   - 确保任务列表已完成验证
   - 准备设计文档作为对照
   - 准备需求文档（如需要）

2. **评分阶段**
   - 按照五个维度逐项检查
   - 记录发现的问题和扣分项
   - 计算各维度得分和总分

3. **反馈阶段**
   - 填写评分表
   - 列出主要问题和改进建议
   - 决定是否可开始执行任务

4. **改进阶段**
   - 根据反馈进行改进
   - 重新评分验证

### 注意事项

- **对照设计**：始终以设计文档为基准进行评分
- **关注可执行性**：任务必须是可以独立执行的
- **关注可验证性**：任务必须是可以独立验证的
- **避免编码指令**：任务描述应该是目标，而非实现步骤

---

## 常见问题

### Q1：如何判断任务粒度是否合适？
**A**：合适的任务应该：
- 可以在1-4小时内完成
- 有明确的开始和结束
- 可以独立验证
- 产生可见的成果

### Q2：什么是"目标层"描述？
**A**：目标层描述关注"做什么"，而非"怎么做"。例如：
- ✅ 目标层：创建共享模块，实现统一的异常体系
- ❌ 细节层：在 common 目录下创建配置文件，添加父模块引用...

### Q3：验收标准应该多详细？
**A**：验收标准应该：
- 具体：明确要检查什么
- 可执行：提供具体的验证步骤
- 可测试：有明确的预期结果
- 但不应该是编码指令

### Q4：如何判断验证方法的优先级？
**A**：遵循以下优先级：
1. **运行时验证**（最优先）：能运行的必须运行验证
2. **构建验证**（次优先）：结构性要求通过构建验证
3. **静态检查**（最后）：仅在无法运行或构建时使用

### Q5：任务之间应该有多少依赖？
**A**：
- 依赖应该清晰明确
- 避免循环依赖
- 尽量减少不必要的依赖
- 支持并行开发

---

## 任务质量检查清单

在评分前，可以使用以下检查清单进行自检：

### 完整性检查
- [ ] 所有设计内容都有对应的任务
- [ ] 没有遗漏的设计内容
- [ ] 没有超出设计范围的任务
- [ ] 任务边界清晰，无重叠

### 可执行性检查
- [ ] 任务粒度合适（1-4小时）
- [ ] 任务目标明确
- [ ] 任务描述在"目标层"
- [ ] 给执行者留有实现空间

### 可验证性检查
- [ ] 每个任务都有验收标准
- [ ] 验收标准具体、可执行
- [ ] 明确了验证方法
- [ ] 验证方法遵循优先级

### 依赖关系检查
- [ ] 前置条件明确
- [ ] 依赖关系清晰
- [ ] 无循环依赖
- [ ] 执行顺序合理

### 描述层次检查
- [ ] 避免了编码指令
- [ ] 关注目标而非过程
- [ ] 复杂任务有必要的步骤说明
- [ ] 保持合适的抽象层次

---

## 任务描述三个层次对比

### ❌ 细节层（避免使用）
```markdown
- 在 common 目录下创建配置文件
- 在配置文件中添加父模块引用
- 在配置文件中添加模块标识
- 在配置文件中添加打包类型设置
```
**问题**：这是编码指令，不是任务描述

### ⚠️ 步骤层（谨慎使用）
```markdown
- 创建共享模块，配置为库类型，添加必要的工具依赖
- 实现异常体系：基础异常（抽象类）、业务异常、系统异常
- 实现统一响应类，包含 code、message、data 字段
```
**适用场景**：复杂任务需要明确子步骤时

### ✅ 目标层（推荐）
```markdown
- 创建共享模块，实现统一的异常体系和响应类
```
**特点**：描述要达成的结果，给执行者留有实现空间

---

## 验证方法优先级示例

### 运行时验证（最优先）
```markdown
**验收标准**：
- 启动应用，访问 /actuator/health 端点，返回 200 状态码
- 检查日志输出，确认包含应用启动成功信息
- 触发异常场景，验证全局异常处理器返回统一格式
```

### 构建验证（次优先）
```markdown
**验收标准**：
- 执行 mvn clean compile，构建成功
- 检查构建日志，确认模块按正确顺序构建
- 确认构建产物包含所有必要的类文件
```

### 静态检查（最后）
```markdown
**验收标准**：
- 确认存在 common 模块目录
- 检查配置文件，确认父模块引用正确
- 确认存在 4 个核心类文件
```

---

**版本**：v1.0
**最后更新**：2025-01-18
